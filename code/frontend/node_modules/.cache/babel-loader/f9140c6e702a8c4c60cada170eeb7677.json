{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eucas\\\\Documents\\\\UNIVERSITA\\\\3_ANNO\\\\PdS\\\\2022t1\\\\code\\\\frontend\\\\src\\\\js\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport { sha3_512 } from 'js-sha3';\nimport { useRef } from 'react';\nimport '../css/Form.css';\nimport '../css/Sfondo.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.withCredentials = true;\n\nconst Signup = () => {\n  _s();\n\n  const emailInput = useRef();\n  const nomeInput = useRef();\n  const cognomeInput = useRef();\n  const passwordInput = useRef();\n  const password2Input = useRef();\n  const professioneInput = useRef();\n\n  const handleLoginForm = async e => {\n    e.preventDefault(); //evita di ricaricare la pagina\n\n    const url = \"http://localhost:9000/signup\";\n    const email = emailInput.current.value;\n    const nome = nomeInput.current.value;\n    const cognome = cognomeInput.current.value;\n    const password2 = password2Input.current.value;\n    let password = passwordInput.current.value;\n    const professione = professioneInput.current.value;\n\n    if (password !== password2) {\n      alert(\"le due password devono essere uguali\");\n      return;\n    }\n\n    password = sha3_512(password); //cifro la password\n\n    const corpo = {\n      nome: nome,\n      cognome: cognome,\n      email: email,\n      password: password,\n      professione: professione,\n      withCredentials: true\n    }; //creo l'oggetto json da inviare al server\n    //INVIO I DATI\n\n    const risposta = await axios.post(url, corpo); //guardo cosa è successo\n\n    if (risposta.data.id) {\n      alert(\"Utente inserito correttamente\");\n    } else {\n      alert(risposta.data.errore);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"divSignup\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLoginForm,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"testo\",\n        type: \"text\",\n        id: \"nome\",\n        name: \"nome\",\n        placeholder: \"Nome\",\n        ref: nomeInput,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 123\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 129\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"testo\",\n        type: \"text\",\n        id: \"cognome\",\n        name: \"cognome\",\n        placeholder: \"Cognome\",\n        ref: cognomeInput,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 135\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 141\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"testo\",\n        type: \"email\",\n        id: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        ref: emailInput,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 127\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 133\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"testo\",\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        minLength: Number('8'),\n        placeholder: \"Password\",\n        ref: passwordInput,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 167\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 173\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"testo\",\n        type: \"password\",\n        id: \"password2\",\n        name: \"password2\",\n        minLength: Number('8'),\n        placeholder: \"Reinserisci la password\",\n        ref: password2Input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 185\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 191\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"professione\",\n        id: \"professione\",\n        ref: professioneInput,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"tecnico\",\n          children: \"Tecnico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cliente\",\n          children: \"Cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"bottone\",\n        type: \"submit\",\n        children: \" Invia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Signup, \"5M0Ez/h2q5XEPwaQNV64D32avt0=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/eucas/Documents/UNIVERSITA/3_ANNO/PdS/2022t1/code/frontend/src/js/Signup.js"],"names":["sha3_512","useRef","axios","defaults","withCredentials","Signup","emailInput","nomeInput","cognomeInput","passwordInput","password2Input","professioneInput","handleLoginForm","e","preventDefault","url","email","current","value","nome","cognome","password2","password","professione","alert","corpo","risposta","post","data","id","errore","Number"],"mappings":"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","sourcesContent":["import { sha3_512 } from 'js-sha3';\r\nimport { useRef } from 'react';\r\nimport '../css/Form.css';\r\nimport '../css/Sfondo.css';\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nconst Signup = () => {\r\n\r\n    const emailInput = useRef();\r\n    const nomeInput = useRef();\r\n    const cognomeInput = useRef();\r\n    const passwordInput = useRef();\r\n    const password2Input = useRef();\r\n    const professioneInput = useRef();\r\n\r\n    const handleLoginForm = async (e) =>\r\n    {\r\n        e.preventDefault(); //evita di ricaricare la pagina\r\n        const url = \"http://localhost:9000/signup\";\r\n\r\n        const email = emailInput.current.value;\r\n        const nome = nomeInput.current.value;\r\n        const cognome = cognomeInput.current.value;\r\n        const password2 = password2Input.current.value;\r\n        let password = passwordInput.current.value;\r\n        const professione = professioneInput.current.value;\r\n\r\n        \r\n\r\n        if (password !== password2)\r\n        {\r\n            alert(\"le due password devono essere uguali\");\r\n            return;\r\n        }\r\n\r\n        password = sha3_512(password); //cifro la password\r\n\r\n        const corpo = {\r\n            nome: nome,\r\n            cognome: cognome,\r\n            email: email, \r\n            password: password,\r\n            professione: professione,\r\n            withCredentials: true\r\n        }; //creo l'oggetto json da inviare al server\r\n\r\n        //INVIO I DATI\r\n        const risposta = await axios.post(url, corpo);\r\n\r\n        //guardo cosa è successo\r\n        if (risposta.data.id)\r\n        {\r\n            alert(\"Utente inserito correttamente\");\r\n        }\r\n        else\r\n        {\r\n            alert(risposta.data.errore);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <div className=\"divSignup\">\r\n            <h1>Signup</h1>\r\n            <form onSubmit = {handleLoginForm}>\r\n            {/* <form> */ }\r\n                <input className='testo' type='text' id='nome' name='nome' placeholder='Nome' ref={nomeInput} required /> <br /><br />\r\n                <input className='testo' type='text' id='cognome' name='cognome' placeholder='Cognome' ref={cognomeInput} required /> <br /><br />\r\n                <input className='testo' type='email' id='email' name='email' placeholder='Email' ref={emailInput} required /><br /><br />\r\n                <input className='testo' type='password' id='password' name='password' minLength={Number('8')} placeholder='Password' ref={passwordInput} required /> <br /><br />\r\n                <input className='testo' type='password' id='password2' name='password2' minLength={Number('8')} placeholder='Reinserisci la password' ref={password2Input} required /> <br /><br />\r\n\r\n                <select name=\"professione\" id=\"professione\" ref={professioneInput}>\r\n                    <option value=\"tecnico\">Tecnico</option>\r\n                    <option value=\"cliente\">Cliente</option>\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <button id='bottone' type='submit'> Invia</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}